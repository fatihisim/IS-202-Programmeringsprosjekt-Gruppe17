# 游游 Bruk .NET 9 SDK for 친 bygge applikasjonen (oppdatert fra 8.0)
FROM mcr.microsoft.com/dotnet/sdk:9.0 AS build
WORKDIR /src

# 游游 Kopier prosjektfilen og gjenopprett avhengigheter (nuget-pakker)
COPY IS202.NrlApp.csproj ./
RUN dotnet restore

# 游游 Kopier resten av prosjektet til containeren
COPY . .

# 游游 Bygg applikasjonen i "Release"-modus og legg det ferdige resultatet i /app/publish
RUN dotnet publish -c Release -o /app/publish

# 游游 Bruk .NET 9 runtime (lettere versjon, kun for 친 kj칮re applikasjonen)
FROM mcr.microsoft.com/dotnet/aspnet:9.0 AS runtime
WORKDIR /app

# 游游 Kopier de ferdig bygde filene fra forrige steg (build) til runtime containeren
COPY --from=build /app/publish .

# 游游 Eksponer port 8080 slik at applikasjonen kan n친s utenfra
EXPOSE 8080

# 游游 Start applikasjonen n친r containeren kj칮rer
ENTRYPOINT ["dotnet", "IS202.NrlApp.dll"]
